"use strict";(()=>{var e={};e.id=179,e.ids=[179],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},32081:e=>{e.exports=require("child_process")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},73837:e=>{e.exports=require("util")},81506:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>l,originalPathname:()=>x,requestAsyncStorage:()=>n,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>_});var a={};r.r(a),r.d(a,{POST:()=>POST});var s=r(10884),o=r(16132),i=r(95798),u=r(78888);let c=new u.Z("sk_test_your_stripe_secret_key_here",{apiVersion:"2023-10-16"});async function POST(e){try{let{email:t,name:r,companyName:a,phone:s}=await e.json(),o=await c.customers.create({email:t,name:r,metadata:{companyName:a,phone:s,source:"tutora-admin-portal",created_at:new Date().toISOString()}}),u=await c.subscriptions.create({customer:o.id,items:[{price:"price_1234567890"}],trial_period_days:14,metadata:{companyName:a,planType:"basic"}});return i.Z.json({success:!0,customer:{id:o.id,email:o.email,name:o.name},subscription:{id:u.id,status:u.status,trialEnd:u.trial_end}})}catch(e){return console.error("Stripe customer creation error:",e),i.Z.json({success:!1,error:"Failed to create customer"},{status:500})}}let p=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/stripe/create-customer/route",pathname:"/api/stripe/create-customer",filename:"route",bundlePath:"app/api/stripe/create-customer/route"},resolvedPagePath:"/Users/johnmutende/Downloads/tutora-main/tutora-admin-portal/src/app/api/stripe/create-customer/route.ts",nextConfigOutput:"export",userland:a}),{requestAsyncStorage:n,staticGenerationAsyncStorage:d,serverHooks:m,headerHooks:l,staticGenerationBailout:_}=p,x="/api/stripe/create-customer/route"}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[535],()=>__webpack_exec__(81506));module.exports=r})();